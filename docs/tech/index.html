<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前言 | wanzhip</title>
    <meta name="description" content="欢迎来到我的主页~">
    <link rel="stylesheet" href="/blog/assets/style.12993c18.css">
    <link rel="modulepreload" href="/blog/assets/Home.cefd43a3.js">
    <link rel="modulepreload" href="/blog/assets/app.0edaf0cd.js">
    <link rel="modulepreload" href="/blog/assets/tech_index.md.0602c3b3.lean.js">
    
    <link rel="icon" type="image/svg+xml" href="/logo.png">
  <meta name="twitter:title" content="前言 | wanzhip">
  <meta property="og:title" content="前言 | wanzhip">
  </head>
  <body>
    <div id="app"><!--[--><div class="no-sidebar theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/blog/" aria-label="wanzhip, back to home" data-v-675d8756 data-v-cc01ef16><img class="logo" src="/blog/logo.png" alt="Logo" data-v-cc01ef16> wanzhip</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/blog/tech/" data-v-b8818f8c>技术文章 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>常用网址</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item isExternal" href="https://www.zhihu.com/" target="_blank" rel="noopener noreferrer" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>知乎</span><span class="icon" data-v-bbc27490><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-bbc27490><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item isExternal" href="https://juejin.cn/" target="_blank" rel="noopener noreferrer" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>掘金</span><span class="icon" data-v-bbc27490><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-bbc27490><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item isExternal" href="https://vuejs.org/" target="_blank" rel="noopener noreferrer" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>vue官网</span><span class="icon" data-v-bbc27490><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-bbc27490><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item isExternal" href="https://vitejs.dev/" target="_blank" rel="noopener noreferrer" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>vite官网</span><span class="icon" data-v-bbc27490><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-bbc27490><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item isExternal" href="https://antdv.com/" target="_blank" rel="noopener noreferrer" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>antdv官网</span><span class="icon" data-v-bbc27490><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-bbc27490><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item isExternal" href="https://reactjs.org/" target="_blank" rel="noopener noreferrer" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>react官网</span><span class="icon" data-v-bbc27490><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-bbc27490><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item isExternal" href="https://flutter.dev/" target="_blank" rel="noopener noreferrer" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>flutter官网</span><span class="icon" data-v-bbc27490><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-bbc27490><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item isExternal" href="https://uniapp.dcloud.net.cn/" target="_blank" rel="noopener noreferrer" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>uni-app官网</span><span class="icon" data-v-bbc27490><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-bbc27490><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><!--]--></ul></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/wanzhip/blog" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/blog/tech/" data-v-b8818f8c>技术文章 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>常用网址</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item isExternal" href="https://www.zhihu.com/" target="_blank" rel="noopener noreferrer" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>知乎</span><span class="icon" data-v-bbc27490><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-bbc27490><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item isExternal" href="https://juejin.cn/" target="_blank" rel="noopener noreferrer" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>掘金</span><span class="icon" data-v-bbc27490><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-bbc27490><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item isExternal" href="https://vuejs.org/" target="_blank" rel="noopener noreferrer" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>vue官网</span><span class="icon" data-v-bbc27490><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-bbc27490><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item isExternal" href="https://vitejs.dev/" target="_blank" rel="noopener noreferrer" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>vite官网</span><span class="icon" data-v-bbc27490><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-bbc27490><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item isExternal" href="https://antdv.com/" target="_blank" rel="noopener noreferrer" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>antdv官网</span><span class="icon" data-v-bbc27490><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-bbc27490><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item isExternal" href="https://reactjs.org/" target="_blank" rel="noopener noreferrer" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>react官网</span><span class="icon" data-v-bbc27490><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-bbc27490><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item isExternal" href="https://flutter.dev/" target="_blank" rel="noopener noreferrer" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>flutter官网</span><span class="icon" data-v-bbc27490><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-bbc27490><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item isExternal" href="https://uniapp.dcloud.net.cn/" target="_blank" rel="noopener noreferrer" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>uni-app官网</span><span class="icon" data-v-bbc27490><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-bbc27490><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><!--]--></ul></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/wanzhip/blog" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><!----><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言" aria-hidden="true">#</a></h1><p>这不放假了，趁着有时间，准备搞个脚手架玩玩，由于node社区已经很完善了，就只需要踩到巨人的肩上“搭积木”，我们从三个部分着手，工具--工欲善其事必先利其器；实践--实践是检验真理的唯一标准；Coding--唯手熟尔，哈哈，拉下来玩玩。相信我从0开始，看完你上你也行。</p><h1 id="效果" tabindex="-1">效果 <a class="header-anchor" href="#效果" aria-hidden="true">#</a></h1><p>先上图：</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a8b4a796ee9d440a99531689b8c6ee2d~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?" alt="图1"> [图1]</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/306d7c78434a4ad0adf293cf6d2c4e50~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?" alt="图2"> [图2] <img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/53a19da05c984bc4b3c1b5dd13eb95cd~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?" alt="图3"> [图3] 看起来是不是很熟悉？没错，就是vue-cli的仿品。来来来，一步步来，一学就会。</p><h1 id="工具篇" tabindex="-1">工具篇 <a class="header-anchor" href="#工具篇" aria-hidden="true">#</a></h1><p>学习讲究一个过程，既然是工具，那我们首先就要知道这个工具是什么，能做什么，以及怎么用。接下来我们就围绕是什么，能做什么，以及怎么用来介绍四个工具----inquirer、commander、chalk、shelljs。当然工具有很多，选自己熟悉的就好，如果不熟悉，不妨学习学习。直接看代码跳到实践部分。</p><h2 id="inquirer" tabindex="-1">inquirer <a class="header-anchor" href="#inquirer" aria-hidden="true">#</a></h2><p>如果你看过vue-cli代码，会发现它也在用这个库。那么inquirer是什么呢？inquirer是一个控制台交互式js库。能做什么呢？如上截图，能用来和用户更友好的交互。怎么用呢？来一块看看。</p><div class="language-"><pre><code>安装
npm install inquirer
</code></pre></div><div class="language-"><pre><code>使用
var inquirer = require(&#39;inquirer&#39;);
inquirer
  .prompt([
    /* Pass your questions in here */
  ])
  .then((answers) =&gt; {
    // Use user feedback for... whatever!!
  })
  .catch((error) =&gt; {
    if (error.isTtyError) {
      // Prompt couldn&#39;t be rendered in the current environment
    } else {
      // Something else went wrong
    }
  });
</code></pre></div><div class="language-"><pre><code>inquirer.prompt(questions: [Question]):Promise
</code></pre></div><div class="language-"><pre><code>interface Ichoices {
    name: string,
    value: string | number | boolean,
    short?: string
}
</code></pre></div><div class="language-"><pre><code>interface Question {
    // 交互类型
    type: &#39;input&#39; | &#39;number&#39; | &#39;confirm&#39; | &#39;list&#39; | &#39;rawlist&#39; | &#39;expand&#39; | &#39;checkbox&#39; | &#39;password&#39; | &#39;editor&#39;;
    
    // 当前输入的名字，可用来获取输入数据
    name: string;
    
    // 提示信息
    message: string | Function;
    
    // 给与的默认值
    default: string | number | boolean | [any] | Function;
    
    // 提示给用户选择的数据
    choices: number | string | Ichoices | Function;
    
    // 对用户输入数据做验证
    validate: Function;
    
    // 自定义处理用户输入数据
    filter: Function;
    
    // 对用户输入数据做自定义显示转换，不影响最终数据
    transformer: Function;
    
    // 当什么的时候触发，返回true或false
    when: Function | boolean;
    
    // 对type值是checkbox、list、rawList、expand展示给用户看到的行数
    pageSize: number;
    
    // 更改默认的前缀显示默认是?
    prefix: string;
    
    // 更改默认的后缀显示 默认是空字符串
    suffix: string;
    
    // 如果答案已经存在，则强制提出问题
    askAnswered: boolean;
    
    // 列表选择时是否循环操作默认true
    loop: boolean;
}
</code></pre></div><p>prompt接收一个question数组，数组的每一项如上面的类型定义。举个例子，看看图1对应的代码： <img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c9176b7dc0fd417394380c83aebbb4fb~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?" alt="图4"> [图4] type是confirm，需要用户输入y/N，默认值是true。后续的执行根据前面的不同结果再进行执行。</p><h1 id="commander" tabindex="-1">commander <a class="header-anchor" href="#commander" aria-hidden="true">#</a></h1><p>commander是什么？它是一个完整的nodejs命令行解决方案。能做什么呢？执行自定义命令，比如本文使用的mcli create <code>&lt;filename&gt;</code> 创建一个工程。下面再看看怎么用：</p><div class="language-"><pre><code>安装
npm install commander
</code></pre></div><div class="language-"><pre><code>使用
const { program } = require(&#39;commander&#39;);

program
  .option(&#39;-d, --debug&#39;, &#39;output extra debugging&#39;)
  .option(&#39;-s, --small [type]&#39;, &#39;small pizza size&#39;, &#39;large&#39;)
  .option(&#39;-p, --pizza-type &lt;type&gt;&#39;, &#39;flavour of pizza&#39;, &#39;pizza&#39;);

program.parse(process.argv);

const options = program.opts();
if (options.debug) console.log(options);

console.log(&#39;pizza details:&#39;);

if (options.small) console.log(&#39;- small pizza size&#39;);
if (options.pizzaType) console.log(`- ${options.pizzaType}`);
</code></pre></div><p>上面定义了三个选项，现在命令行执行 node -r ts-node/register src/index.ts <img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d3e7f53e61624206a0f9c95858bf35f1~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?" alt="图5"> [图5] node -r ts-node/register src/index.ts -d <img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8730df276430465ebbd9750b1e91b95b~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?" alt="图6"> [图6] 看完结果，我们再说上面是什么意思：执行第一个命令时，由于-s和-p选项都有相应的默认值，所以会输出默认值。[type]和<code>&lt;type&gt;</code>分别表示可选和必传。如果执行-p选项，必须传递type值，否则就会报错。执行-s不传递就使用默认值。执行完响应的选项，相应的属性也会改变，不需要传值的属性就是boolean类型，需要传值的就是传递的数据。然后再根据用户执行的选项程序再做下一步处理。 再介绍一个command命令： .command()可以执行一个命令，比如 .command(&#39;create <code>&lt;name&gt;</code>&#39;)看到create是不是又感觉到了熟悉，没错就是生成项目时那个create，后面的<code>&lt;name&gt;</code>表示执行命令必须传递name，即我们的工程。</p><h1 id="chalk" tabindex="-1">chalk <a class="header-anchor" href="#chalk" aria-hidden="true">#</a></h1><p>chalk是什么？相信大家都已经用过了。但是不免有没用过的，我们这里也简单介绍一下。它是一个着色库，对展现在用户面前的数据进行着色处理。使用如下： 注:5版本是esm，如果在ts中或者构建工具中使用，目前建议使用4版本</p><div class="language-"><pre><code>安装
yarn add chalk@4.1.2
</code></pre></div><div class="language-"><pre><code>使用
const chalk = require(&#39;chalk&#39;);
console.log(chalk.blue(&#39;Hello world!&#39;));
</code></pre></div><p>api之类的官网描述的很详细了，一看就会，有种写css的感觉呦。</p><h1 id="shelljs" tabindex="-1">shelljs <a class="header-anchor" href="#shelljs" aria-hidden="true">#</a></h1><p>shell，不言而喻，shelljs是基于 Node.js API 的 Unix shell 命令的可移植 （Windows/Linux/macOS） 实现。这使得我们可以很方便的执行shell脚本。 怎么用呢？</p><div class="language-"><pre><code>安装
npm install shelljs
</code></pre></div><div class="language-"><pre><code>使用
var shell = require(&#39;shelljs&#39;);

if (!shell.which(&#39;git&#39;)) {
  shell.echo(&#39;Sorry, this script requires git&#39;);
  shell.exit(1);
}

// Copy files to release dir
shell.rm(&#39;-rf&#39;, &#39;out/Release&#39;);
shell.cp(&#39;-R&#39;, &#39;stuff/&#39;, &#39;out/Release&#39;);

// Replace macros in each .js file
shell.cd(&#39;lib&#39;);
shell.ls(&#39;*.js&#39;).forEach(function (file) {
  shell.sed(&#39;-i&#39;, &#39;BUILD_VERSION&#39;, &#39;v0.1.2&#39;, file);
  shell.sed(&#39;-i&#39;, /^.*REMOVE_THIS_LINE.*$/, &#39;&#39;, file);
  shell.sed(&#39;-i&#39;, /.*REPLACE_LINE_WITH_MACRO.*\n/, shell.cat(&#39;macro.js&#39;), file);
});
shell.cd(&#39;..&#39;);

// Run external tool synchronously
if (shell.exec(&#39;git commit -am &quot;Auto-commit&quot;&#39;).code !== 0) {
  shell.echo(&#39;Error: Git commit failed&#39;);
  shell.exit(1);
}
</code></pre></div><p>有了shelljs的加持，脚本执行的问题就解决了。至此，一个cli需要用到的工具我们都了解了，一个想象中的cli的骨架也就成型了。</p><h1 id="实践" tabindex="-1">实践 <a class="header-anchor" href="#实践" aria-hidden="true">#</a></h1><p>代码整个贴出来篇幅有些长了，具体...还是贴一下</p><div class="language-"><pre><code>#!/usr/bin/env node
const inquirer = require(&#39;inquirer&#39;);
const chalk = require(&#39;chalk&#39;);
const program = require(&#39;commander&#39;);
const readline = require(&#39;readline&#39;);
const shell = require(&#39;shelljs&#39;);


// type choices = number | string | {name: string, value: string | number | boolean, short?: string} | Function;

// 即用户新输入的参数值和当前已有的参数值
const optionFunc = (newVal, preValue) =&gt; {
    console.log(newVal, preValue);
}

program
    .configureOutput({
        // 此处使输出变得容易区分
        writeOut: (str) =&gt; process.stdout.write(`[OUT] ${str}`),
        writeErr: (str) =&gt; process.stdout.write(`[ERR] ${str}`),
        // 将错误高亮显示
        outputError: (str, write) =&gt; write(chalk.hex(&#39;#f40&#39;)(str))
    })
    .command(&#39;create &lt;name&gt;&#39;)
    .description(&#39;创建应用&#39;)
    .option(&#39;-f,--force &lt;path&gt;&#39;, &#39;是否强制创建&#39;, optionFunc)
    .action((name, options, command) =&gt; {
        console.log(name, &#39;xx&#39;)
        if (!name) {
            console.log(chalk.hex(&#39;#f40&#39;)(&#39;请输入项目名&#39;))
            return;
        } else {
            inquirer.prompt([
                {
                    type: &#39;confirm&#39;,
                    name: &#39;update&#39;,
                    message: `Your connection to the default yarn registry seems to be slow.\n Use https://registry.npm.taobao.org for faster installation?`,
                    default: true,
                },
                {
                    when: (answer) =&gt; {
                        if (!answer.update) {
                            console.log(chalk.hex(&#39;#f40&#39;)(&#39;开始更新...&#39;));
                        }
                    }
                },
                {
                    type: &#39;list&#39;,
                    name: &#39;preset&#39;,
                    message: &#39;Please pick a preset:&#39;,
                    choices: [
                        {
                            name: &#39;Default ([Vue 2] babel, eslint)&#39;,
                            value: &#39;1&#39;,
                        },
                        {
                            name: &#39;Default (Vue 3) ([Vue 3] babel, eslint)&#39;,
                            value: &#39;2&#39;,
                        },
                        {
                            name: &#39;Manually select features&#39;,
                            value: &#39;3&#39;,
                        },
                    ],
                    when: (answer) =&gt; {
                        if (answer.update) {
                        console.log(chalk.red(`\n\nVue CLI v4.5.13`));
                        console.log(`
┌───────────────────────────────────────────┐
│                                           │
│   New version available ${chalk.hex(&#39;#f40&#39;)(&#39;4.5.13&#39;)} → ${chalk.hex(&#39;#f40&#39;)(&#39;4.5.15&#39;)}   │
│     Run ${chalk.hex(&#39;#f40&#39;)(&#39;npm i -g @vue/cli&#39;)} to update!      │
│                                           │
└───────────────────────────────────────────┘
                        `);
                        }
                        return answer.update;
                    }
                },
                {
                    type: &#39;list&#39;,
                    name: &#39;type&#39;,
                    message: &#39;Pick the package manager to use when installing dependencies:&#39;,
                    choices: [
                        {
                            name: &#39;Use Yarn&#39;,
                            value: &#39;yarn&#39;,
                        },
                        {
                            name: &#39;Use NPM&#39;,
                            value: &#39;npm&#39;,
                        },
                    ],
                    when: (answer) =&gt; {
                        return answer.update
                    }
                },
                {
                    when: (answer) =&gt; {
                        if (answer.type) {
                            console.log(chalk.hex(&#39;#f40&#39;)(&#39;Vue CLI v4.5.13&#39;));
                            console.log(chalk.hex(&#39;#f40&#39;)(&#39;✨  Creating project in /Users/zhiepngwan/Desktop/demo/1111.&#39;));
                            console.log(chalk.hex(&#39;#f40&#39;)(&#39;🗃  Initializing git repository...&#39;));
                            console.log(chalk.hex(&#39;#f40&#39;)(&#39;⚙️  Installing CLI plugins. This might take a while...&#39;));
                        }
                    }
                },
                {
                    type: &#39;confirm&#39;,
                    name: &#39;join&#39;,
                    message: &#39;加入我&#39;,
                    default: true,
                    when: (answer) =&gt; {
                        return answer.update
                    }
                },
                {
                    when: (answer) =&gt; {
                        if (!answer.join) {
                            const outStream = process.stdout;
                
                            // 创建interface
                            const rl = readline.createInterface({
                                input: process.stdin,
                                output: outStream
                            });
            
                            const textArr = [&#39;2021&#39;, &#39;辞旧&#39;, &#39;2022&#39;, &#39;迎新&#39;, &#39;新的一年&#39;, &#39;加油写作&#39;, &#39;Fight&#39;, &#39;Together！&#39;];
            
                            // 随机坐标
                            const randomPos = () =&gt; {
                                const x = Math.floor(30 * Math.random());
                                const y = Math.floor(10 * Math.random());
                                return [x, y];
                            }
                            // chalk 上色
                            const randomTextStyle = (text) =&gt; {
                                const styles = [&#39;redBright&#39;, &#39;yellowBright&#39;, &#39;blueBright&#39;, &#39;cyanBright&#39;, &#39;greenBright&#39;, &#39;magentaBright&#39;, &#39;whiteBright&#39;];
                                const color = styles[Math.floor(Math.random() * styles.length)];
                                return chalk[color](text);
                            }
                            // 延时
                            const delay = (time) =&gt; {
                                return new Promise((resolve) =&gt; setTimeout(resolve, time));
                            }
                            setTimeout( async () =&gt; {
                                for(let i = 0; i &lt; textArr.length; i++) {
                                    readline.cursorTo(outStream, ...randomPos());
                                    rl.write(randomTextStyle(textArr[i])); // 展示到控制台
            
                                    await delay(1000);
                                    readline.cursorTo(outStream, 0, 0);
                                    readline.clearScreenDown(outStream);
                                }
                            }, 1000);
                        }
                    }
                }
            ])
            .then((answer) =&gt; {
                if (!answer.join) {
                    readline.cursorTo(process.stdout, 0, 0); // 移动光标 你就理解成改变控制台位置到 0，0
                    readline.clearScreenDown(process.stdout); // 清屏操作 就像使用vue-cli看到的一样
                    return;
                }
                console.log(answer);
                console.log(&#39;etx... 接着再执行一系列命令&#39;);

                // 执行命令
                // if (shell.exec(&#39;yarn add jQuery&#39;).code !== 0) {
                //     shell.echo(&#39;Error: install failed&#39;);
                //     shell.exit(1);
                // }
                // if (shell.exec(&#39;git clone https://github.com/wanzhip/mcli.git&#39;).code !== 0) {
                //     shell.echo(&#39;Error: install failed&#39;);
                //     shell.exit(1);
                // }
            });
        };
    });

program.parse(process.argv);
</code></pre></div><h1 id="coding" tabindex="-1">Coding <a class="header-anchor" href="#coding" aria-hidden="true">#</a></h1><p>唯手熟尔，敲一下加深记忆。完整的代码后续发到github。最后祝大家新年快乐！！！新年新气象！财源滚滚！步步高升！</p></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><!----></div></div><div class="updated" data-v-fb8d84c6><!----></div></footer><!----><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"about_index.md\":\"49271af0\",\"index.md\":\"47e18fbe\",\"manage_index.md\":\"98c3e937\",\"manage_sum.md\":\"765292a2\",\"tech_di_about.md\":\"cf120edc\",\"tech_di_angular.md\":\"2d2e36c9\",\"tech_di_hooks.md\":\"c4e403f0\",\"tech_di_inversify.md\":\"4888eb9e\",\"tech_di_react.md\":\"7e11e02a\",\"tech_edge.md\":\"b2b903a6\",\"tech_index.md\":\"0602c3b3\",\"tech_iot.md\":\"a39fdccb\",\"tech_low.md\":\"0294566e\"}")</script>
    <script type="module" async src="/blog/assets/app.0edaf0cd.js"></script>
    
  </body>
</html>